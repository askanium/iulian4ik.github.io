<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Builder Pattern &#8211; Programming For Kettles</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Programming and Data Science concepts explained in a simple and clear manner (hopefully).">
    <meta name="robots" content="all">
    <meta name="author" content="Iulian Gulea">
    <meta name="keywords" content="design-patterns">
    <link rel="canonical" href="http://iulian4ik.github.io/design-patterns/2016/04/27/creational-builder-pattern/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Programming For Kettles" href="/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?201604271747" type="text/css">
    <link rel="stylesheet" href="/css/styles.css?201604271747" type="text/css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    
    

    <!-- MathJax -->
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Builder Pattern">
    <meta property="og:description" content="Programming and Data Science concepts explained in a simple and clear manner (hopefully).">
    <meta property="og:url" content="http://iulian4ik.github.io/design-patterns/2016/04/27/creational-builder-pattern/">
    <meta property="og:site_name" content="Programming For Kettles">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@iulian4ik" />
    
    <meta name="twitter:title" content="Builder Pattern" />
    <meta name="twitter:description" content="Programming and Data Science concepts explained in a simple and clear manner (hopefully)." />
    <meta name="twitter:url" content="http://iulian4ik.github.io/design-patterns/2016/04/27/creational-builder-pattern/" />

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">

    <script>window.BASEURL = "";</script>

    
    <script type="text/javascript">
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       ga('create', 'UA-76433646-1', 'auto');
       ga('send', 'pageview');
    </script>
    
</head>

<body class="site">
  
	

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="http://iulian4ik.github.io" class="site-title">Programming For Kettles</a>
      <nav class="site-nav">
        
    

    

    

    
        <a href="/about/">About</a>
    

    

    

    

    

    
        <a href="/bookster/">Bookster</a>
    

    

    
        <a href="/contact/">Say Hello</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


      </nav>
      <div class="clearfix"></div>
      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        


<div class="post-header mb2">
  <h1>Builder Pattern</h1>
  <span class="post-meta">Apr 27, 2016</span><br>
  
  <span class="post-meta small">
  
    4 minute read
  
  </span>
</div>

<article class="post-content">
  <h2 id="intent">Intent</h2>

<p>Ease the creation of complex objects by using specialized builders that take care of the construction process.</p>

<h2 id="when-to-use-it">When to use it</h2>

<p>Whenever you have a complex object that is built in a step-by-step manner or when you would like to simplify the creation process of a complex object for a user, consider using a Builder Pattern.</p>

<h2 id="specific-example-1">Specific example 1</h2>

<p>In Middle-Earth there are lots of armed conflicts happenning all the time. The biggest of them, besides numerous warriors, require siege weapons. Now imagine that we are in charge to build a dozen of catapults and trebuchets for the upcoming battle. And because the catapult and trebuchet are complex machines, that require a lot of effort and knowledge of how to build it, we will need a whole Construction Site to build them.</p>

<h2 id="specific-example-2">Specific example 2</h2>

<p>There is another potential usage of the Builder Pattern in Middle-Earth. For this example let’s switch to the villain side and see how we can build such a complex entity as an <em>army</em> (*evil smile* mua-ha-ha-ha-ha-ha-ha &gt;:) ). Sauron can build armies using his power. Any army consists of numerous types of warriors - which makes it a complex object and we need a simple and convenient way to create them.</p>

<h2 id="implementation-without-pattern">Implementation without pattern</h2>

<p>There are multiple ways to build such a complex machine as a trebuchet. We could either have different workers that do everything and we coordinate the process, or we might first build the component parts and combine them at once to get a trebuchet, or build them gradually, but we should know the order in which to assemble them. However, when we’ll need to build a catapult, we’ll have to review our approach and check whether it is relevant or it should be changed.</p>

<h2 id="implementation-using-builder-pattern">Implementation using Builder Pattern</h2>

<p><strong>Example 1</strong> Using the Builder Pattern, we will train a <em>Trebuchet Master Builder</em> and a <em>Catapult Master Builder.</em> Then we will work only with them, by asking them to build a catapult/trebuchet and they will further coordinate the construction process, because they will know how exactly you should build a catapult and in what order to assemble the component pieces. Also, all the work will be done on a <em>Construction Site</em> dedicated to build siege weapons.</p>

<p><strong>Example 2</strong> Using the Builder Pattern, we will give the possibility to Sauron to chain his commands to create an army in steps - one type of warriors at a time.</p>

<h2 id="pattern-components">Pattern components</h2>

<p>TBD</p>

<h2 id="javascript-implementation">JavaScript implementation</h2>

<h4 id="example-1">Example 1</h4>

<p>For implementing the Builder Pattern in JavaScript, we will need a constructor for the <em>Construction Site</em> and a constructor for each type of <em>Master Builders.</em></p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">ConstructionSite</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">build</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">builder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">builder</span><span class="p">.</span><span class="nx">createSkeleton</span><span class="p">();</span>
        <span class="nx">builder</span><span class="p">.</span><span class="nx">createBase</span><span class="p">();</span>
        <span class="nx">builder</span><span class="p">.</span><span class="nx">createThrowingMechanism</span><span class="p">();</span>
        <span class="nx">builder</span><span class="p">.</span><span class="nx">provideProjectiles</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">builder</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Trebuchet</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">foundation</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">throwingMechanism</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">projectiles</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">launchProjectile</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">projectiles</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">projectiles</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'Fire!'</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'No projectiles left! Aaaaa!'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Catapult</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">nrOfWheels</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">foundation</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">stoppingMechanism</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">throwingMechanism</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">projectiles</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">launchProjectile</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">projectiles</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">projectiles</span> <span class="o">-=</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// Our catapults will fire 3 projectiles at once.</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'Fire!'</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="s1">'Not enough projectiles! Aaaaa!'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Above are the constructors for our siege weapons and the <em>Constructor Site</em> (the Director component). Now, we are going to create the <em>Builders</em> that can build one of the siege weapons we need.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">TrebuchetMasterBuilder</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">trebuchet</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">createSkeleton</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">trebuchet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Trebuchet</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">createBase</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">trebuchet</span><span class="p">.</span><span class="nx">foundation</span> <span class="o">=</span> <span class="s1">'static'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">createThrowingMechanism</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">trebuchet</span><span class="p">.</span><span class="nx">throwingMechanism</span> <span class="o">=</span> <span class="s1">'gravitational'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">provideProjectiles</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">trebuchet</span><span class="p">.</span><span class="nx">projectiles</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">get</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">trebuchet</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">CatapultMasterBuilder</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">catapult</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">createSkeleton</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">catapult</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Catapult</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">createBase</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">catapult</span><span class="p">.</span><span class="nx">foundation</span> <span class="o">=</span> <span class="s1">'dynamic'</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">catapult</span><span class="p">.</span><span class="nx">nrOfWheels</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>  <span class="c1">// This is a massive catapult</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">createThrowingMechanism</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">catapult</span><span class="p">.</span><span class="nx">throwingMechanism</span> <span class="o">=</span> <span class="s1">'spring'</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">catapult</span><span class="p">.</span><span class="nx">stoppingMechanism</span> <span class="o">=</span> <span class="s1">'blockage'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">provideProjectiles</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">catapult</span><span class="p">.</span><span class="nx">projectiles</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">get</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">catapult</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>Now we have everything we need to build catapults and trebuchets efficiently and we do not necessarily need to know how either of them are actually built. To create a catapult and a trebuchet, we ask for each builder to build one on our construction site.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">constructionSite</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ConstructionSite</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">trebuchetBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TrebuchetMasterBuilder</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">catapultBuilder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CatapultMasterBuilder</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">catapult</span> <span class="o">=</span> <span class="nx">constructionSite</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">catapultBuilder</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">trebuchet</span> <span class="o">=</span> <span class="nx">constructionSite</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">trebuchetBuilder</span><span class="p">);</span>

<span class="nx">catapult</span><span class="p">.</span><span class="nx">launchProjectile</span><span class="p">();</span>   <span class="c1">// Fire!</span>
<span class="nx">trebuchet</span><span class="p">.</span><span class="nx">launchProjectile</span><span class="p">();</span>  <span class="c1">// Fire!</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">catapult</span><span class="p">.</span><span class="nx">projectiles</span><span class="p">);</span>   <span class="c1">// 27</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">trebuchet</span><span class="p">.</span><span class="nx">projectiles</span><span class="p">);</span>  <span class="c1">// 14</span></code></pre></figure>

<p>We provide the builder to our construction site, which knows how to operate with the builder. This has the following benefits:</p>

<ol>
  <li>We do not need to know how exactly a complex object is built - the builder knows this.</li>
  <li>As far as the builders implement the same API, the objects built by the Director can vary significantly in their structure. This means we can have the same interface for creating different objects (but we still need to provide builders for those objects).</li>
</ol>

<h4 id="example-2">Example 2</h4>

<h2 id="python-implementation">Python implementation</h2>

<h2 id="advantages">Advantages</h2>

<h2 id="disadvantages">Disadvantages</h2>

<h2 id="real-world-usage-examples">Real world usage examples</h2>

<h2 id="things-to-consider">Things to consider</h2>

<h2 id="additional-resources">Additional resources</h2>


</article>






  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname  = 'programming-for-kettles';
    var disqus_identifier = '/design-patterns/2016/04/27/creational-builder-pattern';
    var disqus_title      = 'Builder Pattern';

    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






      </div>
    </div>
  </div>

  <footer class="center">
  <div class="measure">
    <small>
      Theme crafted with &lt;3 by <a href="http://johnotander.com">John Otander</a> (<a href="https://twitter.com/4lpine">@4lpine</a>).<br>
      &lt;/&gt; available on <a href="https://github.com/johnotander/pixyll">Github</a>.
    </small>
  </div>
</footer>

</body>
</html>
