<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Bookster - Make a emotions poster of your favorite book &#8211; Programming For Kettles</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Programming and Data Science concepts explained in a simple and clear manner (hopefully).">
    <meta name="robots" content="all">
    <meta name="author" content="Iulian Gulea">
    <meta name="keywords" content="books, chart, emotions">
    <link rel="canonical" href="http://iulian4ik.github.io/books/chart/emotions/2016/04/20/bookster/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Programming For Kettles" href="/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?201604201801" type="text/css">
    <link rel="stylesheet" href="/css/styles.css?201604201801" type="text/css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    
    

    <!-- MathJax -->
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Bookster - Make a emotions poster of your favorite book">
    <meta property="og:description" content="Programming and Data Science concepts explained in a simple and clear manner (hopefully).">
    <meta property="og:url" content="http://iulian4ik.github.io/books/chart/emotions/2016/04/20/bookster/">
    <meta property="og:site_name" content="Programming For Kettles">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@iulian4ik" />
    
    <meta name="twitter:title" content="Bookster - Make a emotions poster of your favorite book" />
    <meta name="twitter:description" content="Programming and Data Science concepts explained in a simple and clear manner (hopefully)." />
    <meta name="twitter:url" content="http://iulian4ik.github.io/books/chart/emotions/2016/04/20/bookster/" />

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">

    <script>window.BASEURL = "";</script>

    
    <script type="text/javascript">
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       ga('create', 'UA-76433646-1', 'auto');
       ga('send', 'pageview');
    </script>
    
</head>

<body class="site">
  
	

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="http://iulian4ik.github.io" class="site-title">Programming For Kettles</a>
      <nav class="site-nav">
        
    

    

    

    
        <a href="/about/">About</a>
    

    

    

    

    

    
        <a href="/bookster/">Bookster</a>
    

    

    
        <a href="/contact/">Say Hello</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


      </nav>
      <div class="clearfix"></div>
      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        


<div class="post-header mb2">
  <h1>Bookster - Make a emotions poster of your favorite book</h1>
  <span class="post-meta">Apr 20, 2016</span><br>
  
  <span class="post-meta small">
  
    4 minute read
  
  </span>
</div>

<article class="post-content">
  <p>I love to read. Mostly it is work related literature - posts and books about python, data science, javascript. But lately, thanks to my wife, I started reading some non-technical literature as well - science fiction, to be more specific.</p>

<p>I’ve started with classics (Robert Heinlein, Isaac Azimov) and got fascinated while diving in the worlds they’ve created, the worlds that were supposed to be our future (some of them <em>are</em> our present, some of them <em>aren’t</em>, but this is a topic for another post).</p>

<p>A lot of people enjoy reading books because of their emotional component - a good fiction book takes you on a crazy ride on a rollercoaster, making you happy or sad, empathic or indifferent.</p>

<p>While being in search for some ideas to practice my data science skills, I was thinking about a way of visualizing a book with just a single image. After iterating over several ideas, I thought of creating an emotional intensity poster of a book.</p>

<h2 id="entering-bookster">Entering “Bookster”</h2>

<p>Although there’s not much Data Science involved in this idea, it uses basic concepts of Natural Language Processing like <em>tokenization</em> and <em>sentiment analysis.</em> The idea is pretty simple - assign each word in the book a hue based on the word’s sentiment and a specific tint to the hue based on the word’s valence (it’s intensity).</p>

<p>One of the challenges was to find a list of words that are labeled as having a positive/negative sentiment and assigned an intensity to them.</p>

<p>Luckily, there is such a list - the <a href="http://www2.imm.dtu.dk/pubdb/views/publication_details.php?id=6010">AFINN</a>:</p>

<blockquote>
  <p>AFINN is a list of English words rated for valence with an integer
between minus five (negative) and plus five (positive). The words have
been manually labeled by Finn Årup Nielsen in 2009-2011.</p>
</blockquote>

<p>That is exactly what is needed! Now, we need a book to try this on…</p>

<p>For the purpose of demonstration, let’s take the first book in the series of <em><strong>“The Lord of the Rings,”</strong> by J.R.R.Tolkien.</em> This is a fantasy series that is on my reading list for some time already and it is quite popular (a lot of people have at least watched the movies if not read the books) so that we could somehow interpret the results.</p>

<p><strong>Fun fact:</strong> The Lord Of The Rings is one of the most read book series ever.</p>

<p>Let’s follow the process step by step:</p>

<ol>
  <li>First of all, we need to split the text into separate words and remove any punctuation sign. Speaking in Data Science terms, this process is called <em><a href="https://en.wikipedia.org/wiki/Tokenization_%28lexical_analysis%29">tokenization.</a></em> Depending on the language you choose you can achieve this in different ways. The code here will be in JavaScript, because it’s easier to visualize the result, but you can use any technology you want. Also, this demo will use a rough tokenization - meaning we won’t split text like <em>you’re</em> into <em>you are,</em> or <em>can’t</em> into <em>can not,</em> etc. We will just remove basic punctuation signs: <em>, . ! ? : ; “ ‘ ( ) [ ] -.</em> This may be innacurate in some cases, but for our task this is good enough. In order to achieve this, we’ll use regular expressions.</li>
  <li>
    <p>Next, we need to assign each token a color of specific tint. We’ll use <span style="color:green;">green</span> color for positive words and <span style="color:red;">red</span> color for negative words. And the stronger the valence of the word in the AFINN list is, the more intense the color will be. For the neutral words, that are not found in AFINN list, we’ll assign them the white color. Now, representing each word by a 4x4 square, we have the following picture:</p>

    <p><img src="http://iulian4ik.github.io/assets/images/bookster-lord-of-the-rings-book-1-sparse-bigger.png" alt="The Lord Of The Rings bookster" /></p>
  </li>
  <li>Let’s remove the neutral words and leave only colored ones, so that we’ll be able to see distribution of the positive and negative words and make the squares bigger. Also let’s add on mouseover a popup with the corresponding word for each square:
    <div id="lotr-book1-bookster" class="bookster-wrapper"></div>
  </li>
  <li>That’s it! Now we can see the emotional landscape of the book. It’s hard to say which color prevails though. But we can see now that the book starts on a positive note - the first three rows are mostly green, with few intense red squares. Also there’s one bold green square in the beginning that stands for <em>“superb”.</em> Approximately the second eighth of the book is mostly red, intense red. There’s even a sequence of four consecutive <em>“hated”</em> words followed by a <em>“leave”</em> word, then a <em>“hated”,</em> a <em>“loved”</em> and a <em>“hated”</em> again. The middle of the book is balanced and the end of the book is mostly red - because of the battle between ????? and ?????.</li>
  <li>We can stop here, or we can make one more step and find out the actual distribution of emotional words. For this let’s use a treemap diagram:</li>
</ol>
<div id="lotr-book1-treemap"></div>

<p>For the sake of comparison, let’s see some other book[po]sters:</p>

<h2 id="dandelion-wine">Dandelion Wine</h2>
<div id="dandelion-wine-bookster" class="bookster-wrapper"></div>

<h3 id="treemap">Treemap</h3>

<div id="dandelion-wine-treemap"></div>

<h2 id="karlson">Karlson</h2>

<div id="karlson-bookster" class="bookster-wrapper"></div>

<h3 id="treemap-1">Treemap</h3>

<div id="karlson-treemap"></div>

<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>

<script type="text/javascript" src="http://iulian4ik.github.io/assets/javascripts/bookster/bookster.js"></script>

<!--<script type="text/javascript" src="http://iulian4ik.github.io/assets/javascripts/bookster-treemap.js"></script>-->

</article>






  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname  = 'programming-for-kettles';
    var disqus_identifier = '/books/chart/emotions/2016/04/20/bookster';
    var disqus_title      = 'Bookster - Make a emotions poster of your favorite book';

    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






      </div>
    </div>
  </div>

  <footer class="center">
  <div class="measure">
    <small>
      Theme crafted with &lt;3 by <a href="http://johnotander.com">John Otander</a> (<a href="https://twitter.com/4lpine">@4lpine</a>).<br>
      &lt;/&gt; available on <a href="https://github.com/johnotander/pixyll">Github</a>.
    </small>
  </div>
</footer>

</body>
</html>
